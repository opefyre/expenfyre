"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{2763:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(2381),l=s(665);function n(e){let{value:t,onChange:s,placeholder:n="Select month",className:r="",disabled:o=!1,required:i=!1}=e,[c,u]=(0,l.useState)(!1),[d,h]=(0,l.useState)(t?new Date(t+"-01"):null),[x,f]=(0,l.useState)((null==d?void 0:d.getFullYear())||new Date().getFullYear()),g=(0,l.useRef)(null),m=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(t){let e=new Date(t+"-01");h(e),f(e.getFullYear())}else h(null)},[t]),(0,l.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&g.current&&!g.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let p=e=>{let t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0");return"".concat(t,"-").concat(s)},b=e=>{o||f(t=>"prev"===e?t-1:t+1)},v=e=>{let t=new Date;return x===t.getFullYear()&&e===t.getMonth()},w=e=>d&&d.getFullYear()===x&&d.getMonth()===e;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{ref:g,type:"text",value:d&&d?d.toLocaleDateString("en-US",{year:"numeric",month:"short"}):"",onChange:()=>{},onClick:()=>!o&&u(!c),placeholder:n,className:"w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:ring-1 focus:ring-slate-400 focus:border-slate-400 ".concat(o?"cursor-not-allowed bg-slate-50 text-slate-400":"cursor-pointer"," ").concat(r),readOnly:!0,disabled:o,required:i}),c&&!o&&(0,a.jsxs)("div",{ref:m,className:"absolute top-full left-0 mt-1 bg-white border border-slate-200 rounded-lg shadow-lg z-50 min-w-48",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-slate-100",children:[(0,a.jsx)("button",{onClick:()=>b("prev"),className:"p-1 hover:bg-slate-100 rounded transition-colors",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,a.jsx)("h3",{className:"text-sm font-medium text-slate-900",children:x}),(0,a.jsx)("button",{onClick:()=>b("next"),className:"p-1 hover:bg-slate-100 rounded transition-colors",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-1 p-3",children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((e,t)=>(0,a.jsx)("button",{onClick:()=>(e=>{if(o)return;let t=new Date(x,e,1);h(t),s(p(t)),u(!1)})(t),className:"\n                  px-2 py-2 text-sm rounded transition-colors text-center\n                  hover:bg-slate-100\n                  ".concat(v(t)?"bg-slate-100 font-medium":"","\n                  ").concat(w(t)?"bg-slate-900 text-white hover:bg-slate-800":"","\n                  ").concat(w(t)||v(t)?"":"text-slate-700","\n                "),children:e},t))}),(0,a.jsx)("div",{className:"p-2 border-t border-slate-100",children:(0,a.jsx)("button",{onClick:()=>{let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);h(t),f(e.getFullYear()),s(p(t)),u(!1)},className:"w-full text-xs text-slate-600 hover:text-slate-900 py-1",children:"Current Month"})})]})]})}},3176:(e,t,s)=>{s.d(t,{G:()=>o,s:()=>r});var a=s(2381),l=s(665);let n=(0,l.createContext)(void 0);function r(e){let{children:t}=e,[s,r]=(0,l.useState)(!1),[o,i]=(0,l.useState)(null),c=(0,l.useCallback)(e=>{i(e),r(!0)},[]),u=(0,l.useCallback)(()=>{r(!1),i(null)},[]);return(0,a.jsx)(n.Provider,{value:{showConfirm:c,hideConfirm:u,isOpen:s,dialogData:o},children:t})}function o(){let e=(0,l.useContext)(n);if(void 0===e)throw Error("useConfirmDialog must be used within a ConfirmDialogProvider");return e}},3977:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(2381),l=s(665);function n(e){let{value:t,onChange:s,options:n,placeholder:r="Select...",className:o=""}=e,[i,c]=(0,l.useState)(!1),u=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let d=n.find(e=>e.value===t);return(0,a.jsxs)("div",{className:"relative ".concat(o),ref:u,children:[(0,a.jsxs)("button",{type:"button",onClick:()=>c(!i),className:"w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:ring-1 focus:ring-slate-400 focus:border-slate-400 transition-colors text-left flex items-center justify-between bg-white hover:bg-slate-50",children:[(0,a.jsx)("span",{className:d?"text-slate-900":"text-slate-500",children:d?d.label:r}),(0,a.jsx)("svg",{className:"w-4 h-4 text-slate-400 transition-transform ".concat(i?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&(0,a.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-slate-200 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:n.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>{s(e.value),c(!1)},className:"w-full px-3 py-2 text-sm text-left hover:bg-slate-100 transition-colors first:rounded-t-lg last:rounded-b-lg ".concat(e.value===t?"bg-slate-100 text-slate-900 font-medium":"text-slate-700"),children:e.label},e.value))})]})}},9869:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(2381);function l(e){let{currentPage:t,totalPages:s,onPageChange:l,totalItems:n,itemsPerPage:r}=e,o=Math.min(t*r,n);return s<=1?null:(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-slate-100",children:[(0,a.jsxs)("div",{className:"text-sm text-slate-500",children:["Showing ",(t-1)*r+1," to ",o," of ",n," expenses"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("button",{onClick:()=>l(t-1),disabled:1===t,className:"p-2 text-slate-400 hover:text-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,a.jsx)("div",{className:"flex items-center space-x-1",children:(()=>{let e=[],a=[];for(let a=Math.max(2,t-2);a<=Math.min(s-1,t+2);a++)e.push(a);return t-2>2?a.push(1,"..."):a.push(1),a.push(...e),t+2<s-1?a.push("...",s):s>1&&a.push(s),a})().map((e,s)=>"..."===e?(0,a.jsx)("span",{className:"px-2 py-1 text-slate-400",children:"..."},"dots-".concat(s)):(0,a.jsx)("button",{onClick:()=>l(e),className:"px-3 py-1 text-sm rounded transition-colors ".concat(t===e?"bg-slate-900 text-white":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"),children:e},e))}),(0,a.jsx)("button",{onClick:()=>l(t+1),disabled:t===s,className:"p-2 text-slate-400 hover:text-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})}},9910:(e,t,s)=>{s.d(t,{E:()=>i,M:()=>o});var a=s(2381),l=s(665),n=s(4262);let r=(0,l.createContext)(void 0);function o(e){let{children:t,user:s}=e,[o,i]=(0,l.useState)([]),[c,u]=(0,l.useState)([]),[d,h]=(0,l.useState)([]),[x,f]=(0,l.useState)({expenses:!1,budgets:!1,categories:!1}),[g,m]=(0,l.useState)({expenses:null,budgets:null,categories:null}),p=async()=>{if(s){f(e=>({...e,expenses:!0}));try{let e=await (0,n.Ud)("/api/expenses");if(e.ok){let t=await e.json();i(t.data||[]),m(e=>({...e,expenses:null}))}else m(e=>({...e,expenses:"Failed to fetch expenses"}))}catch(e){m(e=>({...e,expenses:"Failed to fetch expenses"}))}finally{f(e=>({...e,expenses:!1}))}}},b=async()=>{if(s){f(e=>({...e,budgets:!0}));try{let e=await (0,n.Ud)("/api/budgets");if(e.ok){let t=await e.json();u(t.data||[]),m(e=>({...e,budgets:null}))}else m(e=>({...e,budgets:"Failed to fetch budgets"}))}catch(e){m(e=>({...e,budgets:"Failed to fetch budgets"}))}finally{f(e=>({...e,budgets:!1}))}}},v=async()=>{if(s){f(e=>({...e,categories:!0}));try{let e=await (0,n.Ud)("/api/categories");if(e.ok){let t=await e.json();h(t.data||[]),m(e=>({...e,categories:null}))}else m(e=>({...e,categories:"Failed to fetch categories"}))}catch(e){m(e=>({...e,categories:"Failed to fetch categories"}))}finally{f(e=>({...e,categories:!1}))}}};(0,l.useEffect)(()=>{s?(p(),b(),v()):(i([]),u([]),h([]))},[s]);let w=(0,l.useMemo)(()=>e=>o.filter(t=>t.month===e),[o]),j=(0,l.useMemo)(()=>e=>c.filter(t=>t.month===e),[c]),k=(0,l.useMemo)(()=>e=>d.find(t=>t.category_id===e),[d]),y=(0,l.useMemo)(()=>e=>c.find(t=>t.budget_id===e),[c]),N=async e=>{await p()},C=async(e,t)=>{await p()},M=async e=>{await p()},S=async e=>{await b()},F=async(e,t)=>{await b()},L=async e=>{await b()};return(0,a.jsx)(r.Provider,{value:{expenses:o,budgets:c,categories:d,loading:x,error:g,refetchExpenses:p,refetchBudgets:b,refetchCategories:v,invalidateCache:e=>{"all"!==e&&e&&"expenses"!==e||p(),"all"!==e&&e&&"budgets"!==e||b(),"all"!==e&&e&&"categories"!==e||v()},getExpensesByMonth:w,getBudgetsByMonth:j,getCategoryById:k,getBudgetById:y,addExpense:N,updateExpense:C,deleteExpense:M,addBudget:S,updateBudget:F,deleteBudget:L},children:t})}function i(){let e=(0,l.useContext)(r);if(void 0===e)throw Error("useData must be used within a DataProvider");return e}}}]);